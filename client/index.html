<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Vídeo do Servidor</title>
</head>
<script>
    const listaVideos = document.getElementById("lista-videos");
    const reprodutor = document.getElementById("reprodutor");

    listaVideos.addEventListener("click", function(e) {
        if (e.target.tagName === "A") {
            e.preventDefault();
            const dataSrc = e.target.getAttribute("data-src");
            const videoUrl = "http://127.0.0.1:8080/server/" + dataSrc;
            const source = reprodutor.firstElementChild;
            reprodutor.src = videoUrl;
            reprodutor.load();
            reprodutor.play();
        }

        
    });

    document.getElementById("formulario-upload").addEventListener("submit", function(e) {
        e.preventDefault();

        const arquivoInput = document.getElementById("arquivo");
        const arquivo = arquivoInput.files[0];

        if (arquivo) {
            const formData = new FormData();
            formData.append("arquivo", arquivo);

            // Substitua a URL pelo endpoint do seu servidor de upload
            fetch("http://127.0.0.1:8080/server/", {
                method: "POST",
                body: formData,
            })
            .then(response => response.json())
            .then(data => {
                console.log("Arquivo enviado com sucesso:", data);
            })
            .catch(error => {
                console.error("Erro no envio do arquivo:", error);
            });
        } else {
            console.error("Nenhum arquivo selecionado.");
        }
</script>
<body>
    
    <h1>Upload de Arquivos</h1>
    <form id="formulario-upload" method="post">
        <input type="file" id="arquivo" name="arquivo" accept="video/*" required>
        <button type="submit">Enviar Arquivo</button>
    </form>

    <h1>Lista de Vídeos</h1>
    <ul id="lista-videos">
        <li><a href="#" data-src="video.mp4">Vídeo 1</a></li>
        <li><a href="#" data-src="video2.mp4">Vídeo 2</a></li>
        <li><a href="#" data-src="video3.mp4">Vídeo 3</a></li>
    </ul>
    <div>
        <video id="reprodutor" width="640" height="480" controls>
            Seu navegador não suporta a exibição de vídeos.
        </video>
    </div>
    
    
</body>
</html>
